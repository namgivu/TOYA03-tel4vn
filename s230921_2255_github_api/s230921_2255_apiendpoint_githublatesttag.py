import requests

#region load GITHUB_API_KEY
import os
from dotenv import load_dotenv  # pip install python-dotenv

load_dotenv()
GITHUB_API_KEY = os.environ.get('GITHUB_API_KEY')  # ref https://developers.google.com/maps/documentation/geocoding/get-api-key
#endregion load GITHUB_API_KEY


#region make request
headers = {
  'Authorization': f'Bearer {GITHUB_API_KEY}',
}

# owner_reponame =  'python/cpython'  # sample repo here  ref https://g.co/bard/share/772196cf382b  ref https://stackoverflow.com/a/32342630/248616
# owner_reponame =  'pyenv/pyenv'     # Nam G VU 's favourite public github repo
owner_reponame   =  'namgivu/TOYA03-tel4vn'
url              = f'https://api.github.com/repos/{owner_reponame}/tags'

res = requests.get(url, headers=headers)
print(f'{res.status_code=}')
print(res.json())
print(f'\nlen={len(res.json())}')

'''
pyenv/pyenv
[{'name': 'v20160726', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20160726', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20160726', 'commit': {'sha': '7da05ee9643dcd03562580a62a7fb802036cd200', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/7da05ee9643dcd03562580a62a7fb802036cd200'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTYwNzI2'}, {'name': 'v20160629', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20160629', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20160629', 'commit': {'sha': '7d709586eef892d202dd3083c6d17fbbbd81ce3b', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/7d709586eef892d202dd3083c6d17fbbbd81ce3b'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTYwNjI5'}, {'name': 'v20160628', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20160628', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20160628', 'commit': {'sha': '9cd200b98ce7f370e9ca0322ab2d4cfebf24bca0', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/9cd200b98ce7f370e9ca0322ab2d4cfebf24bca0'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTYwNjI4'}, {'name': 'v20160509', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20160509', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20160509', 'commit': {'sha': '2017dd0c25467caffd6b9d6749f80dc502128842', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/2017dd0c25467caffd6b9d6749f80dc502128842'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTYwNTA5'}, {'name': 'v20160422', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20160422', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20160422', 'commit': {'sha': '78b9cee98e442c16d3f6ce4eecece932e1eb170b', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/78b9cee98e442c16d3f6ce4eecece932e1eb170b'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTYwNDIy'}, {'name': 'v20160310', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20160310', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20160310', 'commit': {'sha': 'b55ac8cd7822bf7c5bf7b791239f5ae7aa7be364', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/b55ac8cd7822bf7c5bf7b791239f5ae7aa7be364'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTYwMzEw'}, {'name': 'v20160303', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20160303', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20160303', 'commit': {'sha': '7467c88780979d2cd80472bec86b5e6e9fd51e53', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/7467c88780979d2cd80472bec86b5e6e9fd51e53'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTYwMzAz'}, {'name': 'v20160202', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20160202', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20160202', 'commit': {'sha': '425e44d064f934b78c8858b6d3ad597f46a06fa8', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/425e44d064f934b78c8858b6d3ad597f46a06fa8'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTYwMjAy'}, {'name': 'v20151222', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20151222', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20151222', 'commit': {'sha': 'b0f29d511a77905fdf3a7ef812c1ac8b05e4dddb', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/b0f29d511a77905fdf3a7ef812c1ac8b05e4dddb'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUxMjIy'}, {'name': 'v20151210', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20151210', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20151210', 'commit': {'sha': 'fab6a0fcd168b7b9e9870af07516cd75bf3b1852', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/fab6a0fcd168b7b9e9870af07516cd75bf3b1852'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUxMjEw'}, {'name': 'v20151124', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20151124', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20151124', 'commit': {'sha': '465bd1f3e8d458ee209e858cad0639bf08ecf01d', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/465bd1f3e8d458ee209e858cad0639bf08ecf01d'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUxMTI0'}, {'name': 'v20151105', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20151105', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20151105', 'commit': {'sha': '9163c465685a27c6bae454b10192e415d0a17444', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/9163c465685a27c6bae454b10192e415d0a17444'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUxMTA1'}, {'name': 'v20151103', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20151103', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20151103', 'commit': {'sha': '0daf04a71b04c72e6a6d701dcd812b666b22dd50', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/0daf04a71b04c72e6a6d701dcd812b666b22dd50'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUxMTAz'}, {'name': 'v20151006', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20151006', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20151006', 'commit': {'sha': '19c02bf39cd575c2119fbdc83af1c0629da30bf3', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/19c02bf39cd575c2119fbdc83af1c0629da30bf3'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUxMDA2'}, {'name': 'v20150913', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20150913', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20150913', 'commit': {'sha': 'c452da8084a6236ce66411b7fc6036f8d38930dc', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/c452da8084a6236ce66411b7fc6036f8d38930dc'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUwOTEz'}, {'name': 'v20150901', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20150901', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20150901', 'commit': {'sha': '193e64b6b275ff0727c417b54c3085641af2112a', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/193e64b6b275ff0727c417b54c3085641af2112a'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUwOTAx'}, {'name': 'v20150719', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20150719', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20150719', 'commit': {'sha': '7f32e96c28cfcfdbbb499a19df0ecad0abd0e2d2', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/7f32e96c28cfcfdbbb499a19df0ecad0abd0e2d2'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUwNzE5'}, {'name': 'v20150601', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20150601', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20150601', 'commit': {'sha': '5cb9c9af2ec96a029f8da29141cf488d683da326', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/5cb9c9af2ec96a029f8da29141cf488d683da326'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUwNjAx'}, {'name': 'v20150524', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20150524', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20150524', 'commit': {'sha': '1b066598cecc51dbbd39ff592c9b18057631b721', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/1b066598cecc51dbbd39ff592c9b18057631b721'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUwNTI0'}, {'name': 'v20150504', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20150504', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20150504', 'commit': {'sha': '275bc652a474099409624d6d9638b6879407e003', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/275bc652a474099409624d6d9638b6879407e003'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUwNTA0'}, {'name': 'v20150404', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20150404', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20150404', 'commit': {'sha': '275bc652a474099409624d6d9638b6879407e003', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/275bc652a474099409624d6d9638b6879407e003'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUwNDA0'}, {'name': 'v20150326', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20150326', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20150326', 'commit': {'sha': 'ab2aa6d13bac0b3f916b3a0e72bbd293ed8d98f2', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/ab2aa6d13bac0b3f916b3a0e72bbd293ed8d98f2'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUwMzI2'}, {'name': 'v20150226', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20150226', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20150226', 'commit': {'sha': '95ab7d1892a6cfe2c9448be1cd8a2bd6c211716e', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/95ab7d1892a6cfe2c9448be1cd8a2bd6c211716e'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUwMjI2'}, {'name': 'v20150204', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20150204', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20150204', 'commit': {'sha': '9146f44db137a5b1f37b9da15ff360bbf3a28ba0', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/9146f44db137a5b1f37b9da15ff360bbf3a28ba0'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUwMjA0'}, {'name': 'v20150124', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20150124', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20150124', 'commit': {'sha': '8abefe1fcb2e21fc8de7dc99be219e3f8ff938af', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/8abefe1fcb2e21fc8de7dc99be219e3f8ff938af'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTUwMTI0'}, {'name': 'v20141211', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20141211', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20141211', 'commit': {'sha': 'd320d74a07d213819b98ef05ab9468cc276f8ab0', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/d320d74a07d213819b98ef05ab9468cc276f8ab0'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTQxMjEx'}, {'name': 'v20141127', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20141127', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20141127', 'commit': {'sha': 'c0aff27842d258b3e8f17d2684ac81e13a4ebb37', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/c0aff27842d258b3e8f17d2684ac81e13a4ebb37'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTQxMTI3'}, {'name': 'v20141118', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20141118', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20141118', 'commit': {'sha': '8761ae8f7c6ce6a672bce6f5a45b07b96c330d8d', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/8761ae8f7c6ce6a672bce6f5a45b07b96c330d8d'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTQxMTE4'}, {'name': 'v20141106', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20141106', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20141106', 'commit': {'sha': '7220044b49914abfdaf1d5634164847192343393', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/7220044b49914abfdaf1d5634164847192343393'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTQxMTA2'}, {'name': 'v20141012', 'zipball_url': 'https://api.github.com/repos/pyenv/pyenv/zipball/refs/tags/v20141012', 'tarball_url': 'https://api.github.com/repos/pyenv/pyenv/tarball/refs/tags/v20141012', 'commit': {'sha': '77d9e34a49881f4fa9bb44652ad12fc30dca8dde', 'url': 'https://api.github.com/repos/pyenv/pyenv/commits/77d9e34a49881f4fa9bb44652ad12fc30dca8dde'}, 'node_id': 'MDM6UmVmNTYyNTQ2NDpyZWZzL3RhZ3MvdjIwMTQxMDEy'}]
'''
d = res.json()
lastest_tag_d = d[0]
print(f'''\nlatest tag\n{lastest_tag_d['name']}''')
#endregion make request
